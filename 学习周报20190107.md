# 周报

姓名：刘光锐

工号：21821

## 2019.12.24

### 学习内容：

Choerodon平台初步了解--Choerodon是什么？

### 问题：

对DevOps 概念、微服务框架理解浅薄



## 2019.12.26

### 学习内容：

DevOps 、微服务的理解

微服务是什么呢？它就是把原本单一服务拆解成多个微小的服务。

第一点：松耦合

把所谓的这个应用模组化，模组化之后，我们就可以更好的去 开发我们的这个应用程序。

第二点：易维护性。

什么意思呢？我们传统可能是一个单一应用程序的服务器。我们叫  AP SERVER 去管理一个应用程序。但是一旦当我们微服务化之后，我们会有多个应用程序run  执行在我们的应用服务器之上。所以，我们就有多个应用服务器的效能来支持我们的应用程序。所以我们就可以更好的去维护我们应用程序开发的部分。

第三点： 容错性。

什么意思呢？如果我们的应用程序用微服务开发就会发现，当我们的系统发生问题的时候，以前可能单一系统它就会挂掉了。可是，如果你用微服务开发的时候，当某一个服务死掉的时候，这个应用系统一样是活着。它可能只是某一个function   不能使用而已。而且透过一些底层的技术架构，我们可以让这个死掉的服务马上活过来进而服务给客户。所以我们在这个容错性上面事实上是更好的能够展现这个应用程序的能力。

第四点： 技术依赖性：

服务它事实上是一个可执行的个体。所以我们今天原本的一个单一的服务。我们今天拆解成 10个微服务之后，这10个微服务可以各自执行不同程序语言的开发环境，所以你可以很轻易的去选择你要的程序的开发技术，降低了技术的依赖性。

那么DevOps到底是什么呢？ 

　　DevOps是一种文化转变，或者说是一个鼓励更好地交流和协作（即团队合作）以便于更快地构建可靠性更高、质量更好的软件的运动。

### 问题：

对于猪齿鱼平台使用的组件技术不熟悉

## 2019.12.28

### 学习内容：

猪齿鱼使用的核心技术

消息中间件

Choerodon 使用 Kafka 作为消息中间件。

应用前端

Choerodon 前端使用 react 和 mobx。

微服务后端

Choerodon 的微服务后端采用 Spring Cloud 作为微服务框架，使用 Spring Boot 作为开发脚手架。

数据服务层

Choerodon 采用 MySQL 作为关系型数据存储库，Redis 作为缓存库。

运行环境

Choerodon 运行在 Docker 上。

容器编排

Choerodon 使用 Kubernetes 作为容器编排和管理工具。

DevOps 平台使用的开源工具集

- **用户故事地图**：Choerodon 的用户故事地图可以将你的 Backlog 变成一张二维地图，而不是传统的简单列表。
- **迭代**：迭代可以计划冲刺的用户故事数量、故事点、工时，并且拆分用户故事等。
- **看板**：Choerodon 的看板是 Choerodon 敏捷管理中执行部分，它的核心作用是可视化整个迭代的计划执行，并且暴露开发执行过程中的短板或者瓶颈

编码

Choerodon 采用主流的 Git 和 Gitlab 作为代码的管理和托管工具，同时使用 Maven 作为项目代码的组织和管理工具。

构建

Choerodon 在构建阶段，采用 Gitlab CI 作为持续集成工具，Harbor 作为镜像的存放库，同时 Choerodon 融合了 Gitlab CI 和 Harbor 这两个工具，以实现自动化和版本的控制。

测试

Choerodon 采用多个代码检查和测试工具，其中，JUnit 作为后端 Java 代码的测试工具；Selenium 作为前端测试的工具。

部署和运营

Choerodon 融合使用 Docker、Kubernetes 和 Harbor 作为部署工具。

监控

Choerodon 的监控包括了从用户故事开始到服务的运营全生命周期的状态、反馈、监控等，帮助开发和运营管理更好的提升效能。

### 问题：

对于工具操作不熟练

## 2019.12.30

### 学习内容：

平台搭建需要注意事项参见

> Choerodon学习手册.md

## 2019.1.3

### 学习内容：

Docker windows 10环境搭建

### 问题：

Docker对于windows 10家庭版 不支持 ，需要替换为支持hyper-v的系统

## 2019.1.6

### 学习内容：

Docker 结构学习，命令学习，如何使用

镜像使用（images）

容器理解

Docker 扩展了 Linux 容器（Linux Containers），或着说 LXC，通过一个高层次的 API 为进程单独提供了一个轻量级的虚拟环境。Docker 利用了 LXC， cgroups 和 Linux 自己的内核。和传统的虚拟机不同的是，一个 Docker 容器并不包含一个单独的操作系统，而是基于已有的基础设施中操作系统提供的功能来运行的。

### 问题：

vm 虚拟机不能联网

原因：需要开启 VM的网络服务

## 2019.1.8

### 学习内容：

微服务学习

微服务是指开发一个单个小型的但有业务功能的服务，每个服务都有自己的处理和轻量通讯机制，可以部署在单个或多个服务器上。微服务也指一种种松耦合的、有一定的有界上下文的面向服务架构。也就是说，如果每个服务都要同时修改，那么它们就不是微服务，因为它们紧耦合在一起；如果你需要掌握一个服务太多的上下文场景使用条件，那么它就是一个有上下文边界的服务，这个定义来自领域驱动设计。相对于单体架构，它的主要特点是组件化、松耦合、自治、去中心化。

spring cloud理解

微服务就是将一个项目的各个功能组件拆分成可以独立运行的模块，在各个模块之间通过http协议进行通讯，从而实现简便开发，高效工作，去中心化。

### 问题：

需要进一步学习spring boot

## 2019.1.10

### 学习内容：

spring boot学习

Spring Boot ，其设计目的是用来简化新Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。用我的话来理解，就是spring boot其实不是什么新的框架，它默认配置了很多框架的使用方式，就像maven整合了所有的jar包，spring boot整合了所有的框架（不知道这样比喻是否合适）。

使用spring boot有什么好处

1）配置web.xml，加载spring和spring mvc

2）配置数据库连接、配置spring事务

3）配置加载配置文件的读取，开启注解

4）配置日志文件

5）国际化

学习笔记：

> Spring Boot 学习.md

### 问题：

对于springboot配置类(@configration)不熟悉

## 2019.1.12

### 学习内容：

Hap-cloud 坏境搭建

1.在docker 中安装redis  rabbitmq mysql  php 镜像

2.在各个项目中初始化数据库

3.启动注册发现微服务

4.启动其他微服务

Demo

按照文档自己搭建一个微服务项目

问题：

各个微服务通过RESTful  url风格传递信息，需要进一步学习RESTful



## 2019.1.14

### 学习内容：

spring boot 配置相关学习

spring boot 封装了spring的配置，需要自定义配置的时候可以通过继承相关类或者实现相关接口并放在容器中类，重写其方法来达到配置的目的。

spring boot 自动配置原理

1）、SpringBoot启动的时候加载主配置类，开启了自动配置功能 @EnableAutoConﬁguration

2）、@EnableAutoConﬁguration 作用：

- 利用EnableAutoConﬁgurationImportSelector给容器中导入一些组件？ 

- 可以查看selectImports()方法的内容；

- List conﬁgurations = getCandidateConﬁgurations(annotationMetadata, attributes);获取候选的配置

  SpringFactoriesLoader.loadFactoryNames() 
   扫描所有jar包类路径下 META‐INF/spring.factories 
   把扫描到的这些文件的内容包装成properties对象 
   从properties中获取到EnableAutoConfiguration.class类（类名）对应的值，然后把他们添加在容器中

### 问题：

由于spring boot 不支持jsp 所以在开发的时候需要使用模板引擎

## 2019.1.15

### 学习内容：

FreeMark 复习，thymeleaf 学习











